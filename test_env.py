import numpy as np
from fianco_brain import FiancoAI  # Import the Rust AI function



# board_state = np.array([
#     [0, 0, 0, 0, 0, 0, 0, 0, 0],
#     [0, 0, 0, 0, 0, 0, 0, 0, 0],
#     [0, 0, 0, 0, 0, 0, 0, 0, 0],
#     [0, 0, 0, 0, 0, 0, 0, 0, 0],
#     [0, 0, 0, 0, 0, 0, 0, 0, 0],
#     [0, 0, 0, 0, 0, 0, 0, 0, 0],
#     [0, 0, 0, 0, 0, 0, 0, 0, 0],
#     [0, 0, 0, 0, 0, 0, 0, 0, 0],
#     [0, 0, 0, 0, 0, 0, 0, 0, 0]
# ], dtype=np.int8)

# board = np.array([
#             [1, 0, 0, 0, 0, 0, 1, 1, 1],
#             [1, 1, 1, 1, 1, 1, 1, 0, 0],
#             [0, 0, 0, 0, 0, 0, 0, -1, 0],
#             [0, 0, 1, 0, 0, 0, 0, 0, 0],
#             [0, 0, 0, 0, -1, 0, 0, 0, 0],
#             [0, 0, 0, 0, -1, 0, 0, 0, 0],
#             [0, 0, 0, -1, 0, 0, 0, 0, 0],
#             [0, -1, 0, 0, 0, 0, 0, -1, 0],
#             [-1, -1, -1, 0, 0, -1, -1, -1, -1]
#         ], dtype=np.int8)

# board = np.array([
#             [1, 0, 0, 0, 0, 0, 1, 1, 1],
#             [1, 1, 1, 1, 1, 1, 0, 1, 0],
#             [0, 0, 0, 0, 0, 0, 0, -1, 0],
#             [0, 0, 1, 0, 0, 0, 0, 0, 0],
#             [0, 0, 0, 0, -1, 0, 0, 0, 0],
#             [0, 0, 0, 0, -1, 0, 0, 0, 0],
#             [0, 0, 0, -1, 0, 0, 0, 0, 0],
#             [0, -1, 0, 0, 0, 0, 0, -1, 0],
#             [-1, -1, -1, 0, 0, -1, -1, -1, -1]
#         ], dtype=np.int8)

# board = np.array([
#             [1, 0, 0, 0, 0, -1, 1, 1, 1],
#             [1, 1, 1, 1, 1, 1, 1, 0, 0],
#             [0, 0, 0, 0, 0, 0, 0, 0, 0],
#             [0, 0, 1, 0, 0, 0, 0, 0, 0],
#             [0, 0, 0, 0, -1, 0, 0, 0, 0],
#             [0, 0, 0, 0, -1, 0, 0, 0, 0],
#             [0, 0, 0, -1, 0, 0, 0, 0, 0],
#             [0, -1, 0, 0, 0, 0, 0, -1, 0],
#             [-1, -1, -1, 0, 0, -1, -1, -1, -1]
#         ], dtype=np.int8)


board = np.array([
            [1, 0, 0, 0, 0, 0, 0, 0, 0],
            [1, 1, 1, 1, 1, 1, 0, 0, 0],
            [0, 0, 0, 0, 0, 0, 0, 0, -1],
            [0, 0, 1, 0, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, -1, 0, 0, 0, 0],
            [0, 0, 0, 0, -1, 0, 0, 0, 0],
            [0, 0, 0, -1, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0, 0, -1, 0],
            [0, 0, -1, 0, 0, -1, -1, -1, -1]
        ], dtype=np.int8)


# board = np.array([
# [0, 0, 0, 0, 0, 0, 0, 0, 0],
# [0, 0, 0, 0, 0, 0, 0, 0, 0],
# [0, 0, 0, 0, 0, 0, 0, 0, 1],
# [1, 1, 0, 0, 0, 0, 0, 0, 1],
# [0, 0, 1, 0, 0, -1, 0, 0, 0],
# [0, 0, 1, 1, 0, 0, -1, 0, 1],
# [0, 0, 0, 0, 0, -1, 0, 0, 1],
# [0, 0, 0, 0, 0, 0, 0, 0, -1],
# [0, -1, 0, 0, 0, 0, 0, 0, 0],
# ], dtype=np.int8)

board = np.array([
    [0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 1, 0, 0, 0, 0, 0],
    [1, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, -1],
    [0, 0, 0, 0, 0, -1, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0],
], dtype=np.int8)

board = np.array([
[0, 0, 0, 0, 0, 0, 0, 0, 0],
[0, 0, 0, 0, 0, 0, 0, 0, 0],
[0, 0, 0, 0, 1, 0, 0, 0, 0],
[0, 0, 0, 0, -1, 0, 0, 0, 1],
[0, 0, 0, 0, 0, 1, 0, 0, 1],
[1, 0, 0, 0, 0, 0, 0, 0, 0],
[0, 0, 1, 0, 0, -1, 0, 0, 0],
[0, 0, 0, 0, 0, 0, 0, 0, 0],
[-1, 0, 0, 0, 0, 0, 0, 0, -1],
], dtype=np.int8)


board = np.array([
[0, 0, 0, 0, 0, 0, 0, 0, 0],
[0, 0, 0, 0, 0, 0, 0, 0, 0],
[1, 0, 0, 0, 0, 0, 0, 1, 0],
[1, 0, 1, 0, 0, 1, 0, 1, 1],
[-1, 0, -1, 0, 0, 0, 1, 0, 0],
[-1, 0, 0, 0, 0, 0, 0, 0, 0],
[0, 0, 0, 0, 0, 0, 0, 0, 0],
[0, 0, 0, -1, 0, 0, 0, 0, 0],
[0, 0, 0, 0, 0, -1, -1, -1, -1],
], dtype=np.int8)

board_state = np.array([
    [0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 1, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, -1, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0]
], dtype=np.int8)

board = np.array([
[0, 1, 1, 1, 1, 1, 1, 1, 1],
[1, 0, 0, 0, 0, 0, 0, 0, 0],
[-1, 1, 0, 0, 0, 0, 1, 0, 0],
[0, 0, 0, 0, 0, 0, 0, 1, 0],
[0, 0, 0, 1, 0, 0, 0, -1, 0],
[0, 0, 0, 0, 0, 0, 0, 0, 0],
[0, -1, 0, 0, 0, 0, 0, 0, 0],
[0, -1, 0, 0, 0, 0, 0, -1, 0],
[-1, -1, -1, -1, -1, -1, -1, -1, -1],
], dtype=np.int8)

board = np.array([
[0, 0, 0, 0, 0, 0, 0, 0, 0],
[0, 0, 0, 0, 0, 0, 0, 0, 1],
[0, 0, 0, 0, 0, 1, 0, 0, 1],
[1, 0, -1, 0, 0, 0, 0, 0, 1],
[0, 0, 0, 0, -1, 0, 0, 0, 0],
[0, 0, 0, 0, 0, 0, 0, 0, 0],
[0, 0, 1, 0, 0, 0, 0, 0, 0],
[0, 0, 0, 0, 0, 0, 0, -1, 0],
[0, 0, 0, 0, 0, 0, -1, -1, -1],
], dtype=np.int8)

board = np.array([
[0, 0, 0, 0, 0, 0, 1, 0, 0],
[0, 0, 0, 0, 0, 0, 1, 0, 1],
[1, 0, 0, 0, 0, 0, -1, 0, 0],
[1, 1, 1, 0, 0, -1, 0, 0, 1],
[0, 0, 0, 0, 0, 0, 0, 1, -1],
[0, 0, 0, -1, -1, 0, 0, 0, 0],
[0, -1, 0, 0, 0, 0, 0, 0, 0],
[0, 0, 0, 0, 0, 0, -1, 0, 0],
[0, 0, 0, 0, 0, 0, 0, -1, -1],
], dtype=np.int8)

board = np.array([
[0, 0, 0, 0, 0, 0, 0, 0, 0],
[0, 0, 0, 0, 0, 0, 0, 1, 0],
[1, 0, 0, 1, 0, 0, 0, 0, 1],
[-1, 1, 1, 0, 0, 1, 0, 1, 1],
[0, -1, 0, 0, 0, 0, 0, 0, 0],
[0, 0, -1, 0, 0, 0, 0, 0, -1],
[0, 0, 0, 0, 0, 0, 0, 0, 0],
[0, 0, 0, 0, 0, 0, 0, 0, 0],
[0, 0, 0, 0, -1, -1, 0, -1, -1],
], dtype=np.int8) # THIS ONE DOES STRANGE SHIT WITH DEPTH 5. WHITE TO PLAY


board = np.array([
    [0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 1, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, -1]
], dtype=np.int8)

board = np.array([
[0, 0, 0, 0, 0, 0, 0, 0, 0],
[0, 0, 0, 0, 0, 0, 0, 0, 0],
[0, 0, 0, 0, 0, 0, 0, 1, 0],
[0, 0, 0, -1, 0, 0, 0, 0, 0],
[1, 0, 0, 0, 0, 0, 0, 0, 0],
[0, 0, 0, 0, 0, 0, 1, 0, 0],
[0, 0, 0, 0, 0, 0, 0, 0, -1],
[0, 0, 1, -1, 0, 0, 0, 0, 0],
[0, 0, 0, 0, 0, 0, 0, 0, 0],
], dtype=np.int8)


board = np.array([
[0, 0, 0, 0, 0, 0, 0, 0, 0],
[0, 0, 0, 0, 0, 0, 0, 0, 0],
[1, 0, 0, 0, 0, 0, 0, 1, 0],
[-1, 0, 0, 0, 0, 0, 0, 0, 1],
[1, 0, 0, 0, 0, 0, 0, 0, -1],
[-1, 0, 1, 0, 0, 0, 0, 0, 0],
[0, 0, 0, 0, 0, 0, 0, 0, 0],
[0, 0, 0, 0, -1, 0, 0, 0, 0],
[0, 0, 0, 0, 0, 0, 0, 0, -1],
], dtype=np.int8)

board = np.array([
[0, 0, 0, 0, 0, 0, 0, 0, 0],
[0, 0, 0, 0, 0, 1, -1, 0, 0],
[0, 0, 0, 0, 0, 0, 0, -1, -1],
[0, 0, 0, 0, 0, 0, 0, 0, 0],
[0, 0, -1, 0, 0, 0, 0, 0, 0],
[0, 0, 0, 0, 0, -1, 0, 0, 0],
[0, 0, 0, 0, 0, 0, 0, 0, 0],
[0, 0, 1, 0, 0, 0, 0, 0, 0],
[0, 0, 0, 0, 0, 0, 0, 0, 0],
], dtype=np.int8)

board = np.array([
[0, 0, 0, 0, 0, 0, 1, 0, 0],
[0, 0, 0, 0, 0, 0, 0, 1, 0],
[0, 0, 0, 0, 0, 0, 0, 0, 0],
[0, 0, 0, 1, 0, 0, 0, 1, 0],
[1, 1, 0, 0, 0, 0, 0, 0, 1],
[-1, 0, 0, -1, 0, -1, 0, 1, 0],
[0, 0, -1, 0, 0, 0, -1, 0, 0],
[0, 0, 0, 0, 0, -1, 0, 0, -1],
[0, 0, 0, 0, 0, 0, 0, -1, 0],
], dtype=np.int8)

board = np.array([
[0, 0, 0, 0, 0, 0, 0, 0, 0],
[0, 1, 0, 0, 1, 0, 0, 0, 0],
[0, 0, 0, 0, -1, 0, 0, 0, 0],
[0, 0, 0, 0, 0, 0, 0, 0, 1],
[1, 0, 0, 0, 0, 1, 0, 0, 1],
[1, 0, -1, 0, 0, -1, 0, 0, -1],
[-1, 0, 0, 0, 0, 0, 0, 0, 0],
[0, -1, 0, 0, 0, 0, 0, 0, -1],
[0, 0, 0, 0, 0, 0, 0, 0, 0],
], dtype=np.int8)

board = np.array([
[0, 0, 0, 0, 0, 0, 0, 0, 0],
[0, 1, 1, 1, 0, 0, 0, 0, 0],
[0, 0, 0, 0, 0, 0, 0, 0, 0],
[0, 0, 1, 0, 1, 0, 0, 0, 1],
[0, 0, -1, 0, -1, 0, 0, 0, 1],
[1, -1, 0, 0, 0, 0, 0, 0, -1],
[0, 0, -1, 0, 0, -1, 0, 0, 0],
[0, -1, 0, 0, 0, 0, 0, 0, -1],
[0, 0, 0, 0, 0, 0, 0, 0, 0],
], dtype=np.int8)

# print(get_valid_moves_python(board, 1))
player = -1
ai = FiancoAI(player)
print(ai.get_best_move(board, player, 20, 10))
# print(ai.evaluate_board_python(board, -1))

#I NEED TO MAKE SURE I RESIST AS MUCH AS POSSIBLE
